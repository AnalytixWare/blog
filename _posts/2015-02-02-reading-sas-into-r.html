---
layout: post
title: Tutorial&#58; Reading SAS into R
date: '2015-02-02T19:39:00.001+11:00'
author: xiaodai
tags:
- sas
- r
- tutorial
modified_time: '2015-02-05T13:25:08.368+11:00'
blogger_id: tag:blogger.com,1999:blog-3081136564986185529.post-6506788608521541516
blogger_orig_url: http://blog.analytixware.com/2015/02/reading-sas-into-r.html
---

The sas7bdat package has been around for a while. It allows some SAS datasets to be read into R directly. However it didn't deal with compressed SAS datasets at all! Recently I discovered the sas7bdat.parso package which is by the same author and it uses the <a href="https://www.google.com.au/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=parso%20java%20sas" target="_blank">parso Java library</a> for reading SAS datasets.<br /><br />I tried it today and it worked flawlessly! However it requires Java 7 which may not be available on most corporate PCs still running Windows XP. Having said that my IT guys installed it for me with no issues on Windows XP.<br /><br />Here are the simple steps required to use the sas7bdat.parso package<br /><br /><ol><li>Make sure you have Java 7 or above installed on your computer (https://www.java.com/en/download/help/download_options.xml)</li><li>Install the package rJava, devtools, and sas7bdat.parso  <script src="https://gist.github.com/xiaodaigh/de05fa12a4bdc996c38f.js"></script> </li></ol><br />Once the package has been installed you can read in SAS datasets (which all have the extension .sas7bdat) using this code: <script src="https://gist.github.com/xiaodaigh/2163d9ddc4f41cc36760.js"></script> <br /><br />The code behind the function <i>read.sas7bdat.parso</i> is simplistic. It simply converts the SAS dataset to a CSV before reading it into R using read.csv. There are very obvious steps that you can take to improve the code. I use the data.table package so the simplest I can think of is to replace the read.csv function with data.table's fread, which should read in the data much faster and return a data.table instead of data.frame. For example: <script src="https://gist.github.com/xiaodaigh/f8e2e22ec87796fb4266.js"></script><br /> There are other potential opportunities at improving the package. Currently the read.sas7bdat.parso converts the SAS dataset into csv first. If this conversion step can be skipped and allow the data to  be read in more directly then it would result in more speed benefits. Also the ability to read it in as a stream or connection so the data can be processed in chunks would be highly desirable too!