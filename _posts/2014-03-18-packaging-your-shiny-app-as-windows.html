---
layout: post
title: Tutorial&#58; Packaging your Shiny App as an Windows desktop app
date: '2014-03-18T05:28:00.001+11:00'
author: xiaodai
tags:
- Shiny
- r
- tutorial
modified_time: '2015-02-06T10:40:49.287+11:00'
thumbnail: http://1.bp.blogspot.com/-ZuGS94-5JaI/VM8srmJCJ8I/AAAAAAAASPk/9PJ2SgrTOfE/s72-c/iss.png
blogger_id: tag:blogger.com,1999:blog-3081136564986185529.post-8787211808203906697
blogger_orig_url: http://blog.analytixware.com/2014/03/packaging-your-shiny-app-as-windows.html
---

<h2>Introduction</h2>In developing SkyScorer I've sought ways to package it as a standalone Windows app. The advantages of doing this is quite clear:<br /><br /><ul><li>The end-user doesn't need any R knowledge to run the app</li><li>The app can be distributed as a simple download</li></ul><div>In this tutorial I will go through the process that is needed to create a standalone Windows Shiny app.</div><h2>Portable R &amp; Chrome</h2><div><br /></div><div>Firstly download Portable R and Portable Chrome. These will serve as the backbone of our app. Essentially, we are packing along with our app self-contained copies of R and Chrome:</div><div><ul><li>Portable R: http://sourceforge.net/projects/rportable/</li><li>Portable Chrome:&nbsp;http://portableapps.com/apps/internet/google_chrome_portable</li></ul><div>Once you have downloaded the installation files for Portable R and Portable Chrome just install them and note down their installation path. We will use this later.</div></div><div><br /></div><div>For simplicity I will assume you can make a folder in your C Drive called YourApp, but the folder could be situated anywhere. Now copy the portable R installation and the Portable Chrome installation into the C:\YourApp folder. Also copy your Shiny folder containing server.R and ui.R (or a sole app.R in the case of single file Shiny app) into the folder. So now you should have three folders in your C:\YourApp directory</div><div><ul><li>C:\YourApp\GoogleChromePortable</li><li>C:\YourApp\R-Portable</li><li>C:\YourApp\Shiny</li></ul><div><br /></div></div><h2>Setting Up Portable R</h2><div>Just run R-Portable.exe and install all the libraries that are needed by your Shiny app. They will be stored in the Portable R folder.&nbsp;</div><div><br /></div><h2>Setting Up Portable Chrome</h2><div>Make sure you have the following line in the GoogleChromePortable.ini file which is in the GoogleChromePortable folder</div><div><br /></div><div><i>AdditionalParameters= --app="http://localhost:8888"</i><br /><i><br /></i>The additional parameter there makes Chrome start up in app model (i.e. with address bar, bookmarks etc) which makes it look more like a native app.</div><h2>The .bat and .vbs files</h2><div>In the C:\YourApp folder create two files</div><div><div><ul><li>run.vbs</li><li>runShinyApp.R</li></ul></div><div><br /></div><div>The contents <script src="https://gist.github.com/xiaodaigh/8454ac277761e727e1a5.js"></script> </div></div><div>Now WAIT! Don't click on run.vbs just yet! I advise you to add the following to the server.R inside the&nbsp;shinyServer(function(input, output, <b>session</b>) &nbsp;{ ... }). Please make sure you pass <b>session</b> as the third argument! The code you need to add is&nbsp; <script src="https://gist.github.com/xiaodaigh/3658033380d19b2c86e8.js"></script></div><div><br /></div><div>This will close the Rsession when you close the browser (in this case Portable Chrome). Now clicking on run.vbs should start your app!</div><div><br /></div><div>Simply zip up your folder C:\YourApp and distribute! Your users need only double click on run.vbs to run the app.</div><div><br /></div><div>If you want to appear more professional you can follow the instruction in the next section to create a setup.exe file for you app.</div><div><br /></div><h2>InnoSetup</h2><div><br /></div><div>Download InnoSetup&nbsp;http://www.jrsoftware.org/isdl.php and install the software and run the Wizard for creating a new setup file. Everything should be pretty self-explanatory, just make sure that InnoSetup knows to use the C:\YourApp directory. Basically InnoSetup will package everything in the directory into an .exe file which acts as a setup wizard.</div><div><br /></div><div>I chose my default install path to be somewhere other than C:\Program Files as I have found a few issues with it on Windows 8 (no problem on Windows XP).</div><div><br /></div><div>Once you are done with the InnoSetup Wizard you should end up with a .iss file looking like this&nbsp;</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"></div><div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-ZuGS94-5JaI/VM8srmJCJ8I/AAAAAAAASPk/9PJ2SgrTOfE/s1600/iss.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-ZuGS94-5JaI/VM8srmJCJ8I/AAAAAAAASPk/9PJ2SgrTOfE/s1600/iss.png" height="380" width="640" /></a></div><br /></div><div><br /></div><div>The code in the .iss file should be self-explanatory. I only added a few lines which I thought was helpful. Under <i>[setup]</i> add&nbsp;<i>PrivilegesRequired=none, </i>this will not request for admin privilege when installing the app so should allow the app to be installed by most users. Also I created a shortcut to the desktop using the below</div><div><br /></div><div><div><i>[Icons]</i></div><div><i>Name: "{commondesktop}\YourApp"; Filename: "{app}\Apps\run.vbs"; IconFilename: {app}\Your.ico</i></div></div><div><br /></div><div>Of course I have my own custom .ico file to make the shortcut look unique and professional.</div><div><br /></div><div>Hope this helps!</div><div><br /></div><div><br /></div><div><br /></div>